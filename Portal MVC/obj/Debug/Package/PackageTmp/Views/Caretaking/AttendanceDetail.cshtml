@using Portal_MVC.Models
@model Portal_MVC.Models.AttendanceHistoryViewModel
@{
    ViewBag.Title = "AttendanceDetail";
    if (!Model.FromApp)
    {
        Layout = "~/Views/Shared/_HomeLayout.cshtml";
    } else
    {
        Layout = "~/Views/Shared/_StaticLayout.cshtml";
    }
}

<div class="row">
    <div class="">
        <div class="col-lg-5 col-md-6 col-sm-12 col-xs-12">
            @if (Model.Visit != null)
            {
                <div class="panel CallReportPanel col-lg-12" style="width:100% !important; max-width:none !important;">
                    <div class="panel-heading col-md-11 col-md-push-1 col-sm-11 col-sm-push-1 col-xs-11 col-xs-push-1" style="padding-left: 0px;">
                        <h4>Attendance Visit</h4>

                    </div>
                    <div class="panel-body ">
                        <div class="row">
                            <div class="col-xs-11 col-sm-10 col-md-10 col-md-push-1 col-lg-10 col-lg-push-1 CallReportRow">
                                <div class="panelBodyLabel">
                                    <p>Estate</p>
                                </div>
                                <div class="panelBodyLabel PanelBodyData">
                                    <p>@Model.EstateName</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-11 col-sm-10 col-md-10 col-md-push-1 col-lg-10 col-lg-push-1 CallReportRow">
                                <div class="panelBodyLabel">
                                    <p>Visit Type</p>
                                </div>
                                <div class="panelBodyLabel PanelBodyData">
                                    <p>@Model.Visit.AttendanceStr</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-11 col-sm-10 col-md-10 col-md-push-1 col-lg-10 col-lg-push-1 CallReportRow">
                                <div class="panelBodyLabel">
                                    <p>Visit Date</p>
                                </div>
                                <div class="panelBodyLabel PanelBodyData">
                                    <p>@Model.Visit.VisitDate.ToLongDateString()</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-11 col-sm-10 col-md-10 col-md-push-1 col-lg-10 col-lg-push-1 CallReportRow">
                                <div class="panelBodyLabel">
                                    <p>Visit Details</p>
                                </div>
                                <div class="panelBodyLabel PanelBodyData">
                                   
                                    <p></p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-11 col-sm-10 col-md-10 col-md-push-1 col-lg-10 col-lg-push-1 CallReportRow">
                                <div class="panelBodyLabel ">
                                    @if (Model.Visit.FireAlarmTest == true)
                                    {
                                        <div>
                                            <label class="containerChk" style="font-weight: normal; font-size: inherit;">
                                                Fire Alarm Test
                                                <input data-val="true"
                                                       id="FireAlarm" checked="checked" name="FireAlarm" type="checkbox" value="true">
                                                <span class="checkmark"></span>
                                            </label>
                                        </div>
                                    }
                                    <div>
                                        <p>@Model.Visit.VisitDescription</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            }
        </div>
        <div class="col-lg-6">
            
            <div class="col-lg-12">
                @if (Model.Visit.UrlList != null)
                {
                <div style="margin-bottom: 26px;">
                    @if (Model.Visit.UrlList.Count > 0)
                    {
                        <img class="img-responsive"
                             height="300" width="300"
                             id="ImgMain" src=@Model.Visit.UrlList[0] style="margin-bottom: 10px; display:block " />
                    }
                    <div>
                        
                    </div>
                    <a href=@Model.Visit.UrlList[0]  target="_blank" 
                       id="expandLink"
                       class="btn btn-primary"><i class="fas fa-external-link-alt"></i></a>
                </div>
                    <div>
                        @foreach (string img in Model.Visit.UrlList)
                        {
                            <img class="img-responsive imgThumbs" height="100" width="100" src=@img style="margin-bottom: 10px; vertical-align: top; display: inline-block; cursor:pointer" />
                        }
                    </div>

                   
                }

                
               
            </div>
            
        </div>

        
    </div>
</div>
<div class="row">
    <div class="panel GradientBackground">
        <div class="panel-body">
            <div>
                <p>Please note that an attendance report is not intended to be a detailed report. 
                It is one aspect of our internal controls to demonstrate the work carried out by 
                our Caretaking and Management Teams. While we are keen that every report provides accurate and 
                succinct information to our customers  this report 
                may be in note form, contain minor spelling or gramatical errors, or omit anything 
                not directly related to the purpose of the visit. If you would like further 
                information regarding the management activites of your site please contact your 
                property manager.</p>
            </div>
        </div>
    </div>
</div>
@*<div class="row">
    <div class="col-lg-6 col-lg-push-5">
        <div class="col-lg-12">
            <button class="btn btn-primary mb-2" style="display: inline; margin-top: 5px; margin-left: 15px;" id="SelectImg2">
                <img src="/Assets/upload (1).svg" style="height: 25px; width:25px;" id="SelectImg1" />
            </button>
        </div>
    </div>
</div>*@

<script>
    var imgthumbs = document.getElementsByClassName("imgThumbs");


    for (i = 0; i <= imgthumbs.length - 1; i++) {
        imgthumbs[i].addEventListener('click', LoadThumb);
    }

    function LoadThumb(e) {
        var mainimage = document.getElementById("ImgMain");
        mainimage.setAttribute("src", e.target.getAttribute("src"));
        var expandbtn = document.getElementById("expandLink");
        expandbtn.setAttribute("href", e.target.getAttribute("src"));
        //alert(image);
        
    }
</script>
